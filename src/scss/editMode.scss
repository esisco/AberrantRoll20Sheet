/* Edit Mode Styles */

/* When edit mode is disabled (checkbox not checked), make inputs read-only and hide interactive elements */
input[name="attr_edit_mode"]:not(:checked) {
    
    /* Make input fields with edit-mode class read-only and styled as non-editable */
    ~ * input.sheet-edit-mode[type="text"],
    ~ * input.sheet-edit-mode[type="number"],
    ~ * textarea.sheet-edit-mode,
    ~ * select.sheet-edit-mode {
        pointer-events: none !important;
        cursor: default !important;
        background-color: transparent;
    }
    
    /* Make radio buttons and checkboxes with edit-mode class non-interactive */
    ~ * input.sheet-edit-mode[type="radio"],
    ~ * input.sheet-edit-mode[type="checkbox"] {
        pointer-events: none !important;
        cursor: default !important;
    }
    
    /* Hide buttons with edit-mode class when edit mode is off */
    ~ * button.sheet-edit-mode[type="roll"],
    ~ * button.sheet-edit-mode[type="action"] {
        display: none !important;
    }
    
    /* Hide repeating section controls in fieldsets when edit mode is off */
    /* Hide repeating controls regardless of placement */
    ~ * .repcontrol,
    ~ * .repcontrol .repcontrol_edit,
    ~ * .repcontrol .repcontrol_del,
    ~ * .repcontrol .repcontrol_add,
    ~ * .repcontrol .repcontrol_move,
    ~ * .repitem .itemcontrol,
    ~ * .repitem .itemcontrol .repcontrol_edit,
    ~ * .repitem .itemcontrol .repcontrol_del,
    ~ * .repitem .itemcontrol .repcontrol_move,
    ~ * .repitem .itemcontrol .repcontrol_add,
    ~ * fieldset .repcontrol,
    ~ * fieldset .repcontrol .repcontrol_add,
    ~ * fieldset .repcontrol .repcontrol_edit,
    ~ * fieldset .repcontrol .repcontrol_del,
    ~ * fieldset .repcontrol .repcontrol_move {
        display: none !important;
    }
}

/* When edit mode is enabled (checkbox is checked), all elements function normally */
input[name="attr_edit_mode"]:checked {
    /* Edit mode active - all inputs are editable by default */
    /* No overrides needed, Roll20 default behavior applies */
    
    ~ * input.sheet-edit-mode[type="text"],
    ~ * input.sheet-edit-mode[type="number"],
    ~ * textarea.sheet-edit-mode,
    ~ * select.sheet-edit-mode,
    ~ * input.sheet-edit-mode[type="radio"],
    ~ * input.sheet-edit-mode[type="checkbox"],
    ~ * button.sheet-edit-mode[type="roll"],
    ~ * button.sheet-edit-mode[type="action"] {
        pointer-events: auto !important;
        cursor: auto !important;
    }
}
